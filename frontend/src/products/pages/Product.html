<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sản phẩm | Menu</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <style>
      body {
        font-family: "Be Vietnam Pro", sans-serif;
        background-color: #f0f2f5;
      }

      .sidebar {
        background-color: #ffffff;
        border-right: 1px solid #dee2e6;
        height: 100vh;
        position: sticky;
        top: 0;
      }

      .sidebar .nav-link {
        color: #5a5a5a;
        transition: all 0.3s ease;
        border-radius: 8px;
        margin: 0.5rem 0;
        padding: 0.8rem 1rem;
      }

      .sidebar .nav-link:hover,
      .sidebar .nav-link.active {
        background-color: #0bb783;
        color: #ffffff;
      }

      .sidebar .nav-link:hover i,
      .sidebar .nav-link.active i {
        color: #ffffff !important;
      }

      .sidebar .nav-link i {
        color: #5a5a5a;
        transition: all 0.3s ease;
      }

      /* === SỬA: Đổi nền main-content cho giống index.html === */
      .main-content {
        background-color: #f0f2f5; /* Đổi sang nền xám */
        min-height: 100vh;
        padding: 2rem;
      }

      .header-bar {
        background-color: #ffffff;
        border-radius: 8px;
        padding: 1rem 2rem; /* Sửa padding giống index.html */
        margin-bottom: 2rem;
        /* box-shadow: none; - Bỏ đi */
      }

      .user-profile img {
        border: 2px solid #0bb783;
      }

      /* === THÊM: Wrapper cho nội dung để tạo card trắng === */
      .content-wrapper {
        background-color: #ffffff;
        border-radius: 12px;
        border: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        padding: 1.5rem;
        height: max-content;
      }

      .table-container {
        flex-grow: unset;
        min-height: auto;
        max-height: 400px;
        overflow-y: auto;
        border: 1px solid #dee2e6; /* Thêm lại border cho table container */
        border-radius: 8px; /* Thêm lại border-radius */
      }

      /* Tùy chỉnh thanh cuộn cho bảng */
      .table-container::-webkit-scrollbar {
        width: 8px;
      }
      .table-container::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }
      .table-container::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 10px;
        border: 2px solid #f1f1f1;
      }
      .table-container::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }

      .table {
        border-radius: 8px; /* Đảm bảo table-bordered có bo góc */
        overflow: hidden; /* Giúp bo góc hoạt động */
      }

      .table > :not(caption) > * > * {
        padding: 1rem 0.8rem;
        vertical-align: middle;
      }

      .table thead th {
        background-color: #f8f9fa;
        font-weight: 600;
        position: sticky;
        top: 0;
      }

      .table-hover > tbody > tr:hover > * {
        background-color: transparent;
        cursor: default;
      }

      .category-tabs .btn {
        border-radius: 4px;
        padding: 0.4rem 1.2rem;
        font-weight: 500;
        background-color: white;
        border-width: 2px;
      }
      .category-tabs .btn.active {
        background-color: white;
        color: #0bb783;
        border-color: #0bb783;
      }
      .category-tabs .btn:not(.active) {
        background-color: white;
        color: #5a5a5a;
        border-color: #dee2e6;
      }
      .category-tabs .btn:not(.active):hover {
        background-color: #f8f9fa;
      }

      .form-section {
        flex-grow: unset;
      }

      /* Style cho form inputs */
      .form-section .form-control {
        background-color: #f7f7f7;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }
      .form-section .form-control:focus {
        background-color: #ffffff;
        border-color: #0bb783;
        box-shadow: 0 0 0 0.25rem rgba(11, 183, 131, 0.25);
      }

      /* Ẩn style radio button tròn cũ */
      .size-selector {
        display: none;
      }

      /* Style cho size selector dạng text M | L | XL */
      .size-selector-text {
        display: flex;
        gap: 0.25rem;
        align-items: center;
        padding: 0.375rem 0.75rem;
        height: calc(1.5em + 0.75rem + 2px);
        background-color: #f7f7f7;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }
      .size-selector-text span {
        color: #dee2e6; /* Màu dấu | */
        font-weight: 100;
      }
      .btn-size-text {
        cursor: pointer;
        color: #6c757d;
        font-weight: 500;
        padding: 0;
        margin: 0;
        line-height: 1.5;
        background: none;
        border: none;
      }
      .size-selector-text .btn-check:checked + .btn-size-text {
        color: #000;
        font-weight: 700; /* Chữ đậm khi được chọn */
      }
      /* Focus style cho text size selector */
      .form-section .size-selector-text:has(:focus-within) {
        border-color: #0bb783;
        box-shadow: 0 0 0 0.25rem rgba(11, 183, 131, 0.25);
      }

      .action-buttons .btn {
        padding: 0.75rem 1rem;
        font-weight: 700;
        border-radius: 8px;
      }
      .btn-add {
        background-color: #0eaf5b; /* Màu theo ảnh */
        color: white;
      }
      .btn-add:hover {
        background-color: #0c944c;
        color: white;
      }
      .btn-delete {
        background-color: #c92127; /* Màu theo ảnh */
        color: white;
      }
      .btn-delete:hover {
        background-color: #a81c21;
        color: white;
      }
      .btn-update {
        background-color: #007bff; /* Màu theo ảnh */
        color: white;
      }
      .btn-update:hover {
        background-color: #0069d9;
        color: white;
      }
      .btn-save {
        background-color: #f0ad4e; /* Màu theo ảnh */
        color: black;
      }
      .btn-save:hover {
        background-color: #e09d41;
        color: black;
      }

      /* Nút màu tím cho modal login */
      .btn-purple {
        background-color: #7a5cfa;
        color: white;
        border: none;
        padding: 0.5rem 1.5rem;
        font-weight: 500;
      }
      .btn-purple:hover {
        background-color: #6144d4;
        color: white;
      }

      /* Style cho modal */
      .modal-content {
        border-radius: 12px;
        border: none;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
      }
      .modal-header,
      .modal-footer {
        border: none;
      }
    </style>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xl-2 px-0 sidebar d-none d-xl-block">
          <nav class="navbar mt-4 d-flex flex-column align-items-stretch">
            <div
              class="nav-item d-flex align-items-center justify-content-center mb-4"
            >
              <svg
                width="40"
                height="40"
                viewBox="0 0 56 56"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="56" height="56" rx="8" fill="#0BB783" />
                <path
                  d="M22.3743 17.6274C21.2422 18.7805 21.2422 20.6464 22.3952 21.7994L24.911 24.3152C27.28 26.6842 27.28 30.5418 24.911 32.9108L20.2988 28.2985C19.1143 27.114 18.5168 25.5521 18.5168 24.0007C18.5168 22.4493 19.1143 20.8875 20.2988 19.7029L22.3428 17.6589C22.3533 17.6484 22.3638 17.6379 22.3743 17.6274Z"
                  fill="#0BB783"
                  stroke="white"
                  stroke-width="2"
                  stroke-miterlimit="10"
                />
                <path
                  d="M24.3868 23.7899L22.3951 21.7983C21.2421 20.6452 21.2316 18.7898 22.3742 17.6263C23.5063 16.5151 25.3092 16.5361 26.4309 17.6577C26.9969 18.2238 27.2799 18.968 27.2799 19.7018C27.2799 20.4356 26.9969 21.1798 26.4309 21.7459L25.9591 22.2176"
                  fill="#0BB783"
                />
                <path
                  d="M24.3868 23.7899L22.3951 21.7983C21.2421 20.6452 21.2316 18.7898 22.3742 17.6263C23.5063 16.5151 25.3092 16.5361 26.4309 17.6577C26.9969 18.2238 27.2799 18.968 27.2799 19.7018C27.2799 20.4356 26.9969 21.1798 26.4309 21.7459L25.9591 22.2176"
                  stroke="white"
                  stroke-width="2"
                  stroke-miterlimit="10"
                />
                <path
                  d="M34.2715 38.2246C35.4036 37.0716 35.4036 35.2057 34.2505 34.0526L31.7348 31.5368C29.3657 29.1678 29.3657 25.3103 31.7348 22.9413L36.347 27.5535C37.5315 28.738 38.129 30.2999 38.129 31.8513C38.129 33.4027 37.5315 34.9646 36.347 36.1491L34.3029 38.1932C34.282 38.2141 34.2715 38.2246 34.2715 38.2246Z"
                  fill="#0BB783"
                  stroke="white"
                  stroke-width="2"
                  stroke-miterlimit="10"
                />
                <path
                  d="M32.2479 32.0713L34.2396 34.0629C35.3926 35.216 35.4031 37.0714 34.2606 38.2349C33.1285 39.3461 31.3255 39.3251 30.2039 38.2035C29.6378 37.6374 29.3548 36.8932 29.3548 36.1594C29.3548 35.4257 29.6378 34.6814 30.2039 34.1154L30.686 33.6332"
                  fill="#0BB783"
                />
                <path
                  d="M32.2479 32.0713L34.2396 34.0629C35.3926 35.216 35.4031 37.0714 34.2606 38.2349C33.1285 39.3461 31.3255 39.3251 30.2039 38.2035C29.6378 37.6374 29.3548 36.8932 29.3548 36.1594C29.3548 35.4257 29.6378 34.6814 30.2039 34.1154L30.686 33.6332"
                  stroke="white"
                  stroke-width="2"
                  stroke-miterlimit="10"
                />
              </svg>
              <a class="navbar-brand ms-2 fw-bold fs-4" href="#">LOGO</a>
            </div>

            <ul class="navbar-nav flex-column w-100 px-3">
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center" href="../../index.html">
                  <i class="bi bi-house-door fs-5"></i>
                  <span class="ms-3 fw-semibold">Trang chủ</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="../../orders/pages/Banhang.html"
                >
                  <i class="bi bi-cart3 fs-5"></i>
                  <span class="ms-3 fw-semibold">Bán hàng</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center" href="#">
                  <i class="bi bi-bar-chart-line fs-5"></i>
                  <span class="ms-3 fw-semibold">Thống kê</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="./Product.html"
                >
                  <i class="bi bi-bag fs-5"></i>
                  <span class="ms-3 fw-semibold">Sản phẩm | Menu</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="../../orders/pages/HoaDon.html"
                >
                  <i class="bi bi-receipt fs-5"></i>
                  <span class="ms-3 fw-semibold">Hóa đơn</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="../../employees/pages/employee.html"
                >
                  <i class="bi bi-people fs-5"></i>
                  <span class="ms-3 fw-semibold">Nhân viên</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="../../customers/pages/pages/customer.html"
                >
                  <i class="bi bi-person fs-5"></i>
                  <span class="ms-3 fw-semibold">Khách hàng</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="../../promotions/pages/promo.html"
                >
                  <i class="bi bi-tag fs-5"></i>
                  <span class="ms-3 fw-semibold">Khuyến mãi</span>
                </a>
              </li>
              <li class="nav-item mt-4">
                <a
                  class="nav-link d-flex align-items-center"
                  href="../../auth/pages/Login.html"
                >
                  <i class="bi bi-box-arrow-right fs-5"></i>
                  <span class="ms-3 fw-semibold">Đăng xuất</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>

        <div class="col-xl-10 col-12 main-content">
          <div
            class="header-bar d-flex justify-content-between align-items-center"
          >
            <!-- SỬA: Bỏ fw-bold -->
            <h1 class="h3 mb-0">Sản phẩm | Menu</h1>
            <div class="d-flex align-items-center user-profile">
              <img class="rounded-circle" src="https://i.pravatar.cc/60"
              alt="Avatar" style="width: 60px; height: 60px" /* SỬA: Kích thước
              60px */ />
              <div class="ms-3">
                <p class="fw-bold mb-0" id="employeeName">Tên nhân viên</p>
                <p class="text-muted mb-0" style="font-size: 0.9rem" id="employeeRole">Chức vụ</p>
              </div>
            </div>
          </div>

          <!-- SỬA: Bọc nội dung trong .content-wrapper -->
          <div class="content-wrapper">
            <div>
              <div class="d-flex flex-column">
                <h5 class="fw-bold mb-3">Danh sách sản phẩm</h5>

                <div class="category-tabs d-flex flex-wrap gap-2 mb-4">
                  <button type="button" class="btn active">Sữa chua</button>
                  <button type="button" class="btn">Trà</button>
                  <button type="button" class="btn">Cà phê</button>
                  <button type="button" class="btn">Đá xay</button>
                  <button type="button" class="btn">Đồ ăn vặt</button>
                  <button type="button" class="btn">Trà sữa</button>
                  <button type="button" class="btn">Sinh tố</button>
                </div>

                <div class="table-container">
                  <table class="table table-bordered">
                    <!-- Thêm table-bordered, bỏ table-hover -->
                    <thead>
                      <tr>
                        <th scope="col" class="ps-4">Tên món</th>
                        <th scope="col">Size</th>
                        <th scope="col">Giá</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="ps-4">Sữa chua dâu</td>
                        <td>L</td>
                        <td>20000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua thạch dưa</td>
                        <td>L</td>
                        <td>20000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua nếp cẩm</td>
                        <td>L</td>
                        <td>20000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua việt quất</td>
                        <td>L</td>
                        <td>20000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua xoài</td>
                        <td>L</td>
                        <td>20000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua mít</td>
                        <td>L</td>
                        <td>20000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua sầu riêng</td>
                        <td>L</td>
                        <td>25000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua phúc bồn tử</td>
                        <td>L</td>
                        <td>22000</td>
                      </tr>
                      <tr>
                        <td class="ps-4">Sữa chua dâu</td>
                        <td>M</td>
                        <td>18000</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div>
              <div>
                <div class="d-flex flex-column">
                  <!-- NÂNG CẤP: Sắp xếp lại form cho gọn gàng -->
                  <div class="form-section mt-4">
                    <!-- Thêm mt-4 -->
                    <div class="row g-4 align-items-center">
                      <!-- Sửa align-items-end -->
                      <div class="col-md-5">
                        <label for="tenMon" class="form-label fw-semibold"
                          >Tên món</label
                        >
                        <input type="text" class="form-control" id="tenMon" />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label fw-semibold d-block"
                          >Size</label
                        >
                        <div
                          class="size-selector-text"
                          role="group"
                          aria-label="Size selector"
                        >
                          <input
                            type="radio"
                            class="btn-check"
                            name="size"
                            id="sizeM"
                            autocomplete="off"
                          />
                          <label class="btn-size-text" for="sizeM">M</label>
                          <span class="text-muted mx-1">|</span>
                          <input
                            type="radio"
                            class="btn-check"
                            name="size"
                            id="sizeL"
                            autocomplete="off"
                            checked
                          />
                          <label class="btn-size-text" for="sizeL">L</label>
                          <span class="text-muted mx-1">|</span>
                          <input
                            type="radio"
                            class="btn-check"
                            name="size"
                            id="sizeXL"
                            autocomplete="off"
                          />
                          <label class="btn-size-text" for="sizeXL">XL</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <label for="gia" class="form-label fw-semibold"
                          >Giá</label
                        >
                        <input type="number" class="form-control" id="gia" />
                      </div>
                    </div>
                  </div>

                  <!-- NÂNG CẤP: Đẩy nút xuống dưới cùng và xếp lại -->
                  <div class="action-buttons mt-4 d-flex gap-3">
                    <div class="row g-2 w-100">
                      <!-- Thêm w-100 -->
                      <div class="col">
                        <!-- Bỏ col-6, để tự chia -->
                        <button class="btn btn-add w-100">Thêm</button>
                      </div>
                      <div class="col">
                        <button class="btn btn-delete w-100">Xóa</button>
                      </div>
                      <div class="col">
                        <button class="btn btn-update w-100">Sửa</button>
                      </div>
                      <div class="col">
                        <button class="btn btn-save w-100">Lưu</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Đóng .content-wrapper -->
        </div>
      </div>
    </div>

    <!-- Modal (lấy từ NhanVien.html) -->
    <div
      class="modal fade"
      id="authModal"
      tabindex="-1"
      aria-labelledby="authModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title fw-bold" id="authModalLabel">Thông báo</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body py-4">
            Chỉ có quản lý mới được truy cập vào phần này!
          </div>
          <div class="modal-footer justify-content-center">
            <button
              type="button"
              class="btn btn-light"
              data-bs-dismiss="modal"
              style="border: 1px solid #dee2e6"
            >
              Quay lại
            </button>
            <button
              type="button"
              class="btn btn-success"
              data-bs-toggle="modal"
              data-bs-target="#loginModal"
              data-bs-dismiss="modal"
            >
              Đăng nhập
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Đăng nhập (lấy từ NhanVien.html) -->
    <div
      class="modal fade"
      id="loginModal"
      tabindex="-1"
      aria-labelledby="loginModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title fw-bold" id="loginModalLabel">Đăng nhập</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body py-4">
            <form>
              <div class="mb-3">
                <label for="username" class="form-label">Tên đăng nhập</label>
                <input
                  type="text"
                  class="form-control"
                  id="username"
                  style="background-color: #f7f7f7"
                />
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">Mật khẩu</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  style="background-color: #f7f7f7"
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-light"
              data-bs-dismiss="modal"
              style="border: 1px solid #dee2e6"
            >
              Hủy
            </button>
            <button type="button" class="btn btn-purple">Đăng nhập</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Hàm lấy thông tin user từ localStorage và hiển thị
      document.addEventListener("DOMContentLoaded", () => {
        const userInfo = localStorage.getItem("userInfo");
        const employeeNameEl = document.getElementById("employeeName");
        const employeeRoleEl = document.getElementById("employeeRole");

        if (userInfo) {
          try {
            const user = JSON.parse(userInfo);
            const displayName = user.sub || user.fullName || user.name || user.username || "Tên nhân viên";
            employeeNameEl.textContent = displayName;
            const displayRole = user.scope || user.role || user.position || user.chucVu || "Chức vụ";
            employeeRoleEl.textContent = displayRole;
          } catch (error) {
            console.error("Lỗi khi parse userInfo:", error);
          }
        }
      });
    </script>
  </body>
</html>
